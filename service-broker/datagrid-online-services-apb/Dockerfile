FROM openshift3/apb-base
MAINTAINER JDG community

LABEL version="v1.0.0"
LABEL name="datagrid-7/datagrid-services-apb"
LABEL com.redhat.component="datagrid-services-apb"

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZGF0YWdyaWQtb25saW5lLXNlcnZpY2VzLWFwYgppbWFnZTogamJvc3MtZGF0YXNlcnZp\
Y2VzL2RhdGFncmlkLW9ubGluZS1zZXJ2aWNlcy1hcGIKZGVzY3JpcHRpb246IFJlZCBIYXQgSkJv\
c3MgRGF0YSBHcmlkIE9ubGluZSBTZXJ2aWNlcwpiaW5kYWJsZTogVHJ1ZQphc3luYzogb3B0aW9u\
YWwKbWV0YWRhdGE6CiAgIGRvY3VtZW50YXRpb25Vcmw6IGh0dHBzOi8vd3d3LnJlZGhhdC5jb20v\
ZW4vdGVjaG5vbG9naWVzL2pib3NzLW1pZGRsZXdhcmUvZGF0YS1ncmlkCiAgIGxvbmdEZXNjcmlw\
dGlvbjogUmVkIEhhdCBKQm9zcyBEYXRhIEdyaWQgT25saW5lIFNlcnZpY2VzIG9mZmVyIHRhaWxv\
cmVkIGV4cGVyaWVuY2UgZm9yIENhY2hpbmcgKHdpdGggb3B0aW9uYWwgcGVyc2lzdGVuY2UpIGZv\
ciBPcGVuU2hpZnQgdXNlcnMuCiAgIGRpc3BsYXlOYW1lOiBSZWQgSGF0IEpCb3NzIERhdGEgR3Jp\
ZCBPbmxpbmUgU2VydmljZXMKICAgY29uc29sZS5vcGVuc2hpZnQuaW8vaWNvbkNsYXNzOiBpY29u\
LWluZmluaXNwYW4KcGxhbnM6CiAgIC0gbmFtZTogY2FjaGluZy1zZXJ2aWNlCiAgICAgZGVzY3Jp\
cHRpb246IFByb3ZpZGVzIGEgc3RhbmRhbG9uZSBKQm9zcyBEYXRhIEdyaWQgQ2FjaGluZyBTZXJ2\
aWNlIChhIGhpZ2ggcGVyZm9ybWFuY2UsIHNjYWxhYmxlLCBrZXkvdmFsdWUgZGF0YSBncmlkIHNv\
bHV0aW9uKSB3aXRob3V0IHBlcnNpc3RlbmNlIChpbiBvdGhlciB3b3JkcyB5b3VyIGRhdGEgd2ls\
bCBiZSBsb3N0IHVwb24gcmVzdGFydCkuCiAgICAgZnJlZTogVHJ1ZQogICAgIG1ldGFkYXRhOgog\
ICAgICAgZGlzcGxheU5hbWU6IENhY2hpbmcgU2VydmljZQogICAgICAgY29zdDogJDAuMDAKICAg\
ICBwYXJhbWV0ZXJzOgogICAgICAgLSBuYW1lOiBhcHBsaWNhdGlvbl9uYW1lCiAgICAgICAgIGRl\
ZmF1bHQ6IGNhY2hpbmctc2VydmljZS1hcHAKICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAg\
IHRpdGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAt\
IG5hbWU6IGRvY2tlcl9pbWFnZQogICAgICAgICBkZWZhdWx0OiBkb2NrZXItcmVnaXN0cnkuZW5n\
aW5lZXJpbmcucmVkaGF0LmNvbS9qYm9zcy1kYXRhc2VydmljZXMvZGF0YWdyaWQtb25saW5lLXNl\
cnZpY2VzCiAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICB0aXRsZTogSW1hZ2UKICAgICAg\
ICAgcmVxdWlyZWQ6IHRydWUKICAgLSBuYW1lOiBzaGFyZWQtbWVtb3J5LXNlcnZpY2UKICAgICBk\
ZXNjcmlwdGlvbjogUHJvdmlkZXMgYSBzdGFuZGFsb25lIEpCb3NzIERhdGEgR3JpZCBDYWNoaW5n\
IFNlcnZpY2UgKGEgaGlnaCBwZXJmb3JtYW5jZSwgc2NhbGFibGUsIGtleS92YWx1ZSBkYXRhIGdy\
aWQgc29sdXRpb24pIHdpdGggcGVyc2lzdGVuY2UuCiAgICAgZnJlZTogRmFsc2UKICAgICBtZXRh\
ZGF0YToKICAgICAgIGRpc3BsYXlOYW1lOiBTaGFyZWQgTWVtb3J5IFNlcnZpY2UKICAgICAgIGNv\
c3Q6ICQxLjAwIG1vbnRobHkKICAgICBwYXJhbWV0ZXJzOgogICAgICAgLSBuYW1lOiBhcHBsaWNh\
dGlvbl9uYW1lCiAgICAgICAgIGRlZmF1bHQ6IHNoYXJlZC1tZW1vcnktc2VydmljZS1hcHAKICAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgIHRpdGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAtIG5hbWU6IGRvY2tlcl9pbWFnZQogICAgICAgICBk\
ZWZhdWx0OiBkb2NrZXItcmVnaXN0cnkuZW5naW5lZXJpbmcucmVkaGF0LmNvbS9qYm9zcy1kYXRh\
c2VydmljZXMvZGF0YWdyaWQtb25saW5lLXNlcnZpY2VzCiAgICAgICAgIHR5cGU6IHN0cmluZwog\
ICAgICAgICB0aXRsZTogSW1hZ2UKICAgICAgICAgcmVxdWlyZWQ6IHRydWUK"

























































COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles
RUN chmod -R g=u /opt/{ansible,apb}
USER apb
