FROM openshift3/apb-base
MAINTAINER JDG community

LABEL version="v1.0.0"
LABEL name="jboss-dataservices/datagrid-online-services-apb"
LABEL com.redhat.component="datagrid-online-services-apb"

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"X3A6ICZfcAogIC0gbmFtZTogYXBwbGljYXRpb25fbmFtZQogICAgZGVmYXVsdDogY2FjaGluZy1z\
ZXJ2aWNlCiAgICB0eXBlOiBzdHJpbmcKICAgIHRpdGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICBy\
ZXF1aXJlZDogdHJ1ZQogIC0gbmFtZTogZG9ja2VyX2ltYWdlCiAgICBkZWZhdWx0OiBkb2NrZXIt\
cmVnaXN0cnkuZW5naW5lZXJpbmcucmVkaGF0LmNvbS9qYm9zcy1kYXRhc2VydmljZXMvZGF0YWdy\
aWQtb25saW5lLXNlcnZpY2VzCiAgICB0eXBlOiBzdHJpbmcKICAgIHRpdGxlOiBJbWFnZQogICAg\
cmVxdWlyZWQ6IHRydWUKCm5hbWU6IGRhdGFncmlkLW9ubGluZS1zZXJ2aWNlcy1hcGIKaW1hZ2U6\
IGpib3NzLWRhdGFzZXJ2aWNlcy9kYXRhZ3JpZC1vbmxpbmUtc2VydmljZXMtYXBiCmRlc2NyaXB0\
aW9uOiBSZWQgSGF0IEpCb3NzIERhdGEgR3JpZCBPbmxpbmUgU2VydmljZXMKYmluZGFibGU6IFRy\
dWUKYXN5bmM6IG9wdGlvbmFsCm1ldGFkYXRhOgogICBkb2N1bWVudGF0aW9uVXJsOiBodHRwczov\
L3d3dy5yZWRoYXQuY29tL2VuL3RlY2hub2xvZ2llcy9qYm9zcy1taWRkbGV3YXJlL2RhdGEtZ3Jp\
ZAogICBsb25nRGVzY3JpcHRpb246IFJlZCBIYXQgSkJvc3MgRGF0YSBHcmlkIE9ubGluZSBTZXJ2\
aWNlcyBvZmZlciB0YWlsb3JlZCBleHBlcmllbmNlIGZvciBDYWNoaW5nICh3aXRoIG9wdGlvbmFs\
IHBlcnNpc3RlbmNlKSBmb3IgT3BlblNoaWZ0IHVzZXJzLgogICBkaXNwbGF5TmFtZTogUmVkIEhh\
dCBKQm9zcyBEYXRhIEdyaWQgT25saW5lIFNlcnZpY2VzCiAgIGNvbnNvbGUub3BlbnNoaWZ0Lmlv\
L2ljb25DbGFzczogaWNvbi1pbmZpbmlzcGFuCnBsYW5zOgogICAtIG5hbWU6IGNhY2hpbmctc2Vy\
dmljZQogICAgIGRlc2NyaXB0aW9uOiBQcm92aWRlcyBhIHN0YW5kYWxvbmUgSkJvc3MgRGF0YSBH\
cmlkIENhY2hpbmcgU2VydmljZSAoYSBoaWdoIHBlcmZvcm1hbmNlLCBzY2FsYWJsZSwga2V5L3Zh\
bHVlIGRhdGEgZ3JpZCBzb2x1dGlvbikgd2l0aG91dCBwZXJzaXN0ZW5jZSAoaW4gb3RoZXIgd29y\
ZHMgeW91ciBkYXRhIHdpbGwgYmUgbG9zdCB1cG9uIHJlc3RhcnQpLgogICAgIGZyZWU6IFRydWUK\
ICAgICBtZXRhZGF0YToKICAgICAgIGRpc3BsYXlOYW1lOiBDYWNoaW5nIFNlcnZpY2UKICAgICAg\
IGNvc3Q6ICQwLjAwCiAgICAgcGFyYW1ldGVyczogKl9wCiAgIC0gbmFtZTogc2hhcmVkLW1lbW9y\
eS1zZXJ2aWNlCiAgICAgZGVzY3JpcHRpb246IFByb3ZpZGVzIGEgc3RhbmRhbG9uZSBKQm9zcyBE\
YXRhIEdyaWQgQ2FjaGluZyBTZXJ2aWNlIChhIGhpZ2ggcGVyZm9ybWFuY2UsIHNjYWxhYmxlLCBr\
ZXkvdmFsdWUgZGF0YSBncmlkIHNvbHV0aW9uKSB3aXRoIHBlcnNpc3RlbmNlLgogICAgIGZyZWU6\
IEZhbHNlCiAgICAgbWV0YWRhdGE6CiAgICAgICBkaXNwbGF5TmFtZTogU2hhcmVkIE1lbW9yeSBT\
ZXJ2aWNlCiAgICAgICBjb3N0OiAkMS4wMCBtb250aGx5CiAgICAgcGFyYW1ldGVyczogKl9wCg=="
















































COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles
RUN chmod -R g=u /opt/{ansible,apb}
USER apb
