FROM openshift3/apb-base
MAINTAINER JDG community

LABEL version="v1.0.0"
LABEL name="jboss-dataservices/datagrid-online-services-apb"
LABEL com.redhat.component="datagrid-online-services-apb"

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZGF0YWdyaWQtb25saW5lLXNlcnZpY2VzLWFwYgppbWFnZTogamJvc3MtZGF0YXNlcnZp\
Y2VzL2RhdGFncmlkLW9ubGluZS1zZXJ2aWNlcy1hcGIKZGVzY3JpcHRpb246IFJlZCBIYXQgSkJv\
c3MgRGF0YSBHcmlkIE9ubGluZSBTZXJ2aWNlcwpiaW5kYWJsZTogVHJ1ZQphc3luYzogb3B0aW9u\
YWwKbWV0YWRhdGE6CiAgIGRvY3VtZW50YXRpb25Vcmw6IGh0dHBzOi8vd3d3LnJlZGhhdC5jb20v\
ZW4vdGVjaG5vbG9naWVzL2pib3NzLW1pZGRsZXdhcmUvZGF0YS1ncmlkCiAgIGxvbmdEZXNjcmlw\
dGlvbjogUmVkIEhhdCBKQm9zcyBEYXRhIEdyaWQgT25saW5lIFNlcnZpY2VzIG9mZmVyIHRhaWxv\
cmVkIGV4cGVyaWVuY2UgZm9yIENhY2hpbmcgKHdpdGggb3B0aW9uYWwgcGVyc2lzdGVuY2UpIGZv\
ciBPcGVuU2hpZnQgdXNlcnMuCiAgIGRpc3BsYXlOYW1lOiBSZWQgSGF0IEpCb3NzIERhdGEgR3Jp\
ZCBPbmxpbmUgU2VydmljZXMKICAgY29uc29sZS5vcGVuc2hpZnQuaW8vaWNvbkNsYXNzOiBpY29u\
LWluZmluaXNwYW4KcGxhbnM6CiAgIC0gbmFtZTogY2FjaGluZy1zZXJ2aWNlCiAgICAgZGVzY3Jp\
cHRpb246IFByb3ZpZGVzIGEgc3RhbmRhbG9uZSBKQm9zcyBEYXRhIEdyaWQgQ2FjaGluZyBTZXJ2\
aWNlIChhIGhpZ2ggcGVyZm9ybWFuY2UsIHNjYWxhYmxlLCBrZXkvdmFsdWUgZGF0YSBncmlkIHNv\
bHV0aW9uKSB3aXRob3V0IHBlcnNpc3RlbmNlIChpbiBvdGhlciB3b3JkcyB5b3VyIGRhdGEgd2ls\
bCBiZSBsb3N0IHVwb24gcmVzdGFydCkuCiAgICAgZnJlZTogVHJ1ZQogICAgIG1ldGFkYXRhOgog\
ICAgICAgZGlzcGxheU5hbWU6IENhY2hpbmcgU2VydmljZQogICAgICAgY29zdDogJDAuMDAKICAg\
ICBwYXJhbWV0ZXJzOgogICAgICAgLSBuYW1lOiBhcHBsaWNhdGlvbl9uYW1lCiAgICAgICAgIGRl\
ZmF1bHQ6IGNhY2hpbmctc2VydmljZQogICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAgdGl0\
bGU6IEFwcGxpY2F0aW9uIE5hbWUKICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgIC0gbmFt\
ZTogZG9ja2VyX2ltYWdlCiAgICAgICAgIGRlZmF1bHQ6IGRvY2tlci1yZWdpc3RyeS5lbmdpbmVl\
cmluZy5yZWRoYXQuY29tL2pib3NzLWRhdGFzZXJ2aWNlcy9kYXRhZ3JpZC1vbmxpbmUtc2Vydmlj\
ZXMKICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgIHRpdGxlOiBJbWFnZQogICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAtIG5hbWU6IHNoYXJlZC1tZW1vcnktc2VydmljZQogICAgIGRlc2Ny\
aXB0aW9uOiBQcm92aWRlcyBhIHN0YW5kYWxvbmUgSkJvc3MgRGF0YSBHcmlkIENhY2hpbmcgU2Vy\
dmljZSAoYSBoaWdoIHBlcmZvcm1hbmNlLCBzY2FsYWJsZSwga2V5L3ZhbHVlIGRhdGEgZ3JpZCBz\
b2x1dGlvbikgd2l0aCBwZXJzaXN0ZW5jZS4KICAgICBmcmVlOiBGYWxzZQogICAgIG1ldGFkYXRh\
OgogICAgICAgZGlzcGxheU5hbWU6IFNoYXJlZCBNZW1vcnkgU2VydmljZQogICAgICAgY29zdDog\
JDEuMDAgbW9udGhseQogICAgIHBhcmFtZXRlcnM6CiAgICAgICAtIG5hbWU6IGFwcGxpY2F0aW9u\
X25hbWUKICAgICAgICAgZGVmYXVsdDogc2hhcmVkLW1lbW9yeS1zZXJ2aWNlCiAgICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAgICB0aXRsZTogQXBwbGljYXRpb24gTmFtZQogICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgLSBuYW1lOiBkb2NrZXJfaW1hZ2UKICAgICAgICAgZGVmYXVsdDog\
ZG9ja2VyLXJlZ2lzdHJ5LmVuZ2luZWVyaW5nLnJlZGhhdC5jb20vamJvc3MtZGF0YXNlcnZpY2Vz\
L2RhdGFncmlkLW9ubGluZS1zZXJ2aWNlcwogICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAg\
dGl0bGU6IEltYWdlCiAgICAgICAgIHJlcXVpcmVkOiB0cnVlCg=="

























































COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles
RUN chmod -R g=u /opt/{ansible,apb}
USER apb
